<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Login - Inteleyzer</title><link rel="stylesheet" href="/static/css/style.css"><script src="https://unpkg.com/lucide@latest"></script><style>

/* ... style omitted ... */
body {
    display: flex;
    min-height: 100vh;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, var(--secondary) 0%, #E2E8F0 100%);
    background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800"><defs><filter id="blur"><feGaussianBlur in="SourceGraphic" stdDeviation="8"/></filter></defs><g filter="url(%23blur)" opacity="0.15"><rect x="50" y="100" width="80" height="200" fill="%238DA399" rx="10"/><circle cx="150" cy="150" r="40" fill="%232F4F4F"/><rect x="250" y="80" width="60" height="180" fill="%236B8E23" rx="5"/><circle cx="350" cy="120" r="35" fill="%238DA399"/><path d="M 450 100 L 480 200 L 420 200 Z" fill="%232F4F4F"/><rect x="550" y="90" width="70" height="190" fill="%238DA399" rx="8"/><circle cx="680" cy="140" r="45" fill="%236B8E23"/><rect x="750" y="110" width="55" height="170" fill="%232F4F4F" rx="6"/><circle cx="850" cy="130" r="38" fill="%238DA399"/><path d="M 950 100 L 990 210 L 910 210 Z" fill="%236B8E23"/><rect x="1050" y="95" width="75" height="185" fill="%232F4F4F" rx="9"/><circle cx="100" cy="350" r="50" fill="%238DA399"/><rect x="200" y="300" width="65" height="200" fill="%236B8E23" rx="7"/><circle cx="320" cy="380" r="42" fill="%232F4F4F"/><path d="M 420 320 L 460 450 L 380 450 Z" fill="%238DA399"/><rect x="520" y="310" width="70" height="210" fill="%236B8E23" rx="8"/><circle cx="650" cy="360" r="48" fill="%232F4F4F"/><rect x="750" y="330" width="60" height="190" fill="%238DA399" rx="6"/><circle cx="850" cy="370" r="40" fill="%236B8E23"/><path d="M 950 320 L 995 450 L 905 450 Z" fill="%232F4F4F"/><rect x="1050" y="315" width="72" height="205" fill="%238DA399" rx="8"/></g></svg>');
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    margin: 0;
    padding: 1rem;
    position: relative;
}

body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(8px);
    z-index: -1;
}

.auth-card {
    width: 100%;
    max-width: 400px;
    background: white;
    padding: 2.5rem;
    border-radius: 16px;
    box-shadow: var(--shadow-md);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.8);
}

.role-selector {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    margin-bottom: 2rem;
}

.role-btn {
    padding: 1rem;
    border: 2px solid #E2E8F0;
    border-radius: 12px;
    background: white;
    cursor: pointer;
    transition: all 0.3s;
    text-align: center;
    font-weight: 500;
    color: var(--text-muted);
}

.role-btn:hover {
    border-color: var(--primary);
    background-color: var(--secondary);
}

.role-btn.active {
    border-color: var(--primary);
    background-color: var(--primary);
    color: white;
}

.role-btn i {
    display: block;
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
}

.login-form {
    display: none;
}

.login-form.active {
    display: block;
}

</style></head><body><div class="auth-card"><div style="text-align: center; margin-bottom: 2rem;"><div style="width: 48px; height: 48px; background: var(--primary); color: white; display: flex; align-items: center; justify-content: center; border-radius: 12px; margin: 0 auto 1rem auto; font-size: 1.5rem; font-weight: bold;">Rx</div><h2>Welcome Back</h2><p>Login to your secure dashboard</p></div><div class="role-selector"><button type="button" class="role-btn active" data-role="doctor" onclick="selectRole('doctor')"><i data-lucide="stethoscope"></i>Doctor</button><button type="button" class="role-btn" data-role="pharma" onclick="selectRole('pharma')"><i data-lucide="pill"></i>Pharma</button><button type="button" class="role-btn" data-role="hospital" onclick="selectRole('hospital')"><i data-lucide="building-2"></i>Hospital</button><button type="button" class="role-btn" data-role="pharmacy" onclick="selectRole('pharmacy')"><i data-lucide="package"></i>Pharmacy</button></div><form id="login-form" class="login-form active" method="POST"><div class="form-group"><label>Email Address</label><input type="email" name="email" required placeholder="john@hospital.com"></div><div class="form-group"><label>Password</label><input type="password" name="password" required placeholder="••••••••"></div><button type="submit" class="btn btn-primary" style="width: 100%;">Login</button><p style="text-align: center; margin-top: 1.5rem; font-size: 0.9rem;">New to Inteleyzer? <a href="/signup" style="color: var(--primary-dark); font-weight: 600;">Create Account</a></p></form></div><script type="module">import {
    Auth
}

from '/static/js/auth.js';

let selectedRole = 'doctor';

function selectRole(role) {
    selectedRole = role;
    
    // Update button states
    document.querySelectorAll('.role-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    document.querySelector(`[data-role="${role}"]`).classList.add('active');
    
    lucide.createIcons();
}

lucide.createIcons();

document.getElementById('login-form').addEventListener('submit', async (e)=> {
        e.preventDefault();
        const formData=new FormData(e.target);
        const data=Object.fromEntries(formData.entries());
        data.role = selectedRole;

        const result=await Auth.login(data.email, data.password);

        if (result.success) {
            if (result.user.role==='doctor') {
                window.location.href='/doctor/dashboard';
            }

            else if (result.user.role==='pharma') {
                window.location.href='/pharma/dashboard';
            }
            
            else if (result.user.role==='hospital') {
                window.location.href='/hospital/dashboard';
            }
            
            else if (result.user.role==='pharmacy') {
                window.location.href='/pharmacy/dashboard';
            }}

        else {
            alert(result.message || 'Login failed');
        }});
</script></body></html>